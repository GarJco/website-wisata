name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ] # Pemicu saat push ke branch main
  workflow_dispatch:   # Mengizinkan Anda menjalankan ini secara manual

# Izin ini SANGAT PENTING
permissions:
  contents: read
  pages: write      # Diperlukan untuk 'deploy-pages'
  id-token: write   # Diperlukan untuk 'deploy-pages'

jobs:
  # Ini adalah satu-satunya job
  deploy:
    runs-on: ubuntu-latest
    steps:
      # 1. Mengunduh kode Anda
      - name: Checkout code
        uses: actions/checkout@v4 # <-- Update ke v4

      # 2. Mengatur GitHub Pages
      - name: Setup GitHub Pages
        uses: actions/configure-pages@v4 # <-- Update ke v4

      # 3. Mengunggah file website (artifact)
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3 # <-- Update ke v3
        with:
          # Unggah semua file dari root folder
          path: '.' 

      # 4. Deploy file yang diunggah
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4 # <-- Update ke v4